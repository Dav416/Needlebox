{% extends 'basemodulos.html' %}

{% load static %}

{% block mycss %}
    <link rel="stylesheet" href="{% static 'myCss/clientesStyle.css' %}">
{% endblock %}

{% block title %}
    NEEDLEBOX - Clientes
{% endblock %}

{% block content %}

    <div class="wrapper">

  <!--Encabezado de sección-->
  <div class="mod-act c-client"><div class="cover"><span class="mod-act-nom">Clientes</span></div></div>


  <!--Aqui iria el contenido-->





    <div class="demo-html">


      <div id="example_wrapper" class="dataTables_wrapper dt-bootstrap4 ">

      <div class="card-h-insu text-right col-md-6>


      </div>

    <div class="row table-responsive">
      <a href="{% url 'cliente1' %}">

                  <button class="btn-edit-prov btnajaxcl" style="padding: 8px; background-color: #F0B27A; margin-right: 1.5%; margin-bottom: 1%;">

                      Añadir cliente
                  </button>
                </a>
          <div class="col-sm-12 ">
            <table id="MyTableClientes" class="table table-striped table-bordered dataTable " style="width: 100%;" role="grid"
              aria-describedby="example_info">
              <thead>
                <tr role="row">
                  <th class="sorting sorting_asc text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                    aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 180px;">Número
                    del
                    cliente</th>
                  <th class="sorting text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                    aria-label="Position: activate to sort column ascending" style="width: 150px;">Nombres</th>
                  <th class="sorting text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                    aria-label="Office: activate to sort column ascending" style="width: 150px;">Apellidos</th>
                  <th class="sorting text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                    aria-label="Age: activate to sort column ascending" style="width: 110px;">Teléfonos</th>
                    <th class="sorting text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                    aria-label="Age: activate to sort column ascending" style="width: 110px;">Email</th>
                    <th class="sorting text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                    aria-label="Age: activate to sort column ascending" style="width: 110px;">Dirección</th>
                     <th class="sorting text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                    aria-label="Age: activate to sort column ascending" style="width: 110px;">Notas</th>
                  <th class="text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                     style="width: 40px;">Ver/Editar</th>
                  <th class="text-center" tabindex="0" aria-controls="example" rowspan="1" colspan="1"
                     style="width: 40px;">Eliminar</th>
                </tr>
              </thead>
              <tbody>
                {% for c in object_list1 %}

                <tr class="odd text-center">
                  <td class="sorting_1">{{ c.id }}</td>
                  <td>{{ c.nomCli }}</td>
                  <td>{{ c.apeCli }}</td>
                  <td>{{ c.telCli }} / {{ c.celCli }} </td>
                  <td>{{ c.e_mailCli }}</td>
                  <td>{{ c.dirCli }}</td>
                  <td>{{ c.infoTCli }}</td>
                  <td class="py-0 align-middle">
                    <div class="btn-group btn-group-sm">
                      <a class="btn btn-primary btn-sm" href=" {% url 'editar_cliente' c.id %}"><i class="fas fa-edit"></i></a>
                    </div>
                  </td>
                  <td class="py-0 align-middle">
                    <div class="btn-group btn-group-sm">
                      <a href="#" class="btn btn-danger"><i class="fas fa-trash"></i></a>
                    </div>
                  </td>
                </tr>

                {% endfor %}

              </tbody>

            </table>
          </div>
        </div>

      </div>
    </div>

</div>

    <!--script para ejecución del data table -->
<script type="application/javascript">
    $(function () {
        $('#MyTableClientes').DataTable({
                    responsive: true,
                    autoWidth: false
        });

        $('.btnajaxcl').on('click', function () {
                $.ajax({
                    url: '{% url 'cliente3' %}',
                    type: 'POST',
                    data: {id: 1},
                    dataType: 'json'
                }).done(function (data) {
                    console.log(data);
                }).fail(function (jqXHR, textStatus, errorThrown) {
                    alert(textStatus+': ERROR AJAX ONCLICK LISTA CLIENTES '+errorThrown);
                }).always(function (data) {

                });
            });


    });

</script>
<!--/ script para ejecución del data table -->
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>


{% endblock %}




