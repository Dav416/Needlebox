{% extends 'baseotros.html' %}

{% load static %}

<!--title del head-->
{% block title %}
    NEEDLEBOX - Perfil
{% endblock %}

<!--mis estilos-->
{% block mycss %}
  <link rel="stylesheet" href="{% static 'myCss/perfilStyle.css' %}">
{% endblock %}

<!--bloque de contenido-->
{% block content%}
  <!--Encabezado de sección-->
  <div class="mod-act c-perf"><div class="cover"><span class="mod-act-nom">Perfil</span></div></div>


     <!--validador a mi modo-->
    {% if form.errors %}
        <div class="alert alert-danger alert-secondary">
            <h2>Ha ocurrido un error en los siguientes campos del formulario diligenciado:</h2>
            {{ form.errors }}
            <strong>Por favor, diligencie de nuevo el formulario de forma corrrecta</strong>
            <hr>
        </div>
    {% endif %}
    <!--/validador a mi modo-->


  <!--Aqui iria el contenido-->
  <!-- Inicio de perfil y editar perfil-->
  <div class="col-md-9 profile">

    <div class="card">

      <div class="card-header p-2 card-t">
        <ul class="nav nav-pills">
          <li class="nav-item"><a class="nav-link active" href="#p-info" data-toggle="tab"><i class="fas fa-id-card"></i> Información personal </a></li>
          <li class="nav-item"><a class="nav-link " href="#settings" data-toggle="tab"> <i class="fas fa-user-edit"></i> Editar información personal</a></li>
          <li class="nav-item"><a class="nav-link " href="{% url 'index' %}"> <i class="fas fa-home"></i> Volver a inicio</a></li>
        </ul>
      </div>
        <!-- /.card-header -->


       <!--Selector-->
      <div class="card-body">

         <div class="tab-content">

          <!--------------------------Inicio opción información personal registrada----------------------------------------->
          <div class="tab-pane active" id="p-info">

            <!--Inicio Información personal registrada-->
            <div class="card-body">

              <label><strong><i class="fas fa-user-circle"></i> Nombre de usuario</strong></label>
              <br>
              <span class="r-userName">Nombre-de-usuario</span>

              <hr>

              <label><strong><i class="fas fa-envelope-open-text"></i> Correo electrónico</strong></label>
              <br>
              <span class="r-userEmail">correo@usuario.com</span>

              <hr>

              <label><strong><i class="fas fa-calendar-day"></i> Fecha de registro</strong></label>
              <br>
              <span class="r-userDater">d/m/a</span>

            </div>
            <!--Fin de información personal registrada-->

          </div>
          <!---------------------------fin opción información personal registrada----------------------------------->




          <!--------------------------Inicio opción editar información personal----------------------------------------->
          <div class="tab-pane  tab-mod-prof " id="settings">

             <form class="form-horizontal" method="post" action="{% url 'perfil' %}">
               <input type="hidden" name="next" value="{{ next }}">

                 {% csrf_token %}
                <div class="form-group row">
                <label for="inputName" class="col-sm-2 col-form-label">Nombre de usuario</label>
                <div class="col-sm-10">

                    {{ formP.nom_usu }}
                </div>
               </div>

              <div class="form-group row">
                <label for="inputEmail" class="col-sm-2 col-form-label">Correo electrónico</label>

                  <div class="col-sm-10">

                    {{ formP.e_mail }}
                </div>
              </div>


              <div class="form-group row">
                <label for="inputpass" class="col-sm-2 col-form-label">Contraseña</label>
                <div class="col-sm-10">

                    {{ formP.password }}
                </div>
              </div>


              <div class="form-group row">
                <label for="inputpass2" class="col-sm-2 col-form-label">Confirmar Contraseña</label>
                <div class="col-sm-10">

                       {{ formP.conf_password }}

                  <div class="see-pass">
                      {{ formP.show_password }}
                      <label for="ver-pass" class="see-pass-lab"> Ver contraseñas</label>
                  </div>

                </div>
              </div>

              <div class="form-group row">
                    <label for="Pregun-secur" class="col-sm-2 col-form-label">Pregunta de seguridad</label>
                <div class=" col-sm-10 ">

                    {{ formP.security_question }}

                </div>

                  <label for="Pregun-secur-res" class="col-sm-2 col-form-label">Respuesta </label>
                  <div class="col-sm-10">
                    {{ formP.security_answer }}
                  </div>



              </div>

              <div class="form-group row">
                <div class="offset-sm-2 col-sm-10 most-cont">
                  <div class="checkbox">

                    <label>
                      {{ formP.accept_terms }} Acepto los <a href="#">terminos y condiciones</a> de Needlebox


                    </label>

                  </div>
                </div>
              </div>


              <div class="form-group row group-btn">
                <div class="offset-sm-2 col-sm-10 group-btn group-btn-2">

                  <input type="submit" class="btn btn-danger save"  value="Guardar cambios">

                  <button type="button" class="btn-2 btn delete" data-toggle="modal" data-target="#delete"><i class="fas fa-ban"></i> Eliminar cuenta</button>

                </div>
              </div>



            </form>


          </div>

            <!-----------------------inicio Modal confirmación de borrado de cuenta------------------>
            <div class="modal fade" id="delete" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
              <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Confirmación de eliminación de cuenta</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">&times;</span>
                    </button>
                  </div>
                  <div class="modal-body">
                    <p class="del-message"><strong>¡Atención!</strong> Está apunto de de borrar su cuenta de Needlebox, éste proceso no se puede
                      deshacer. <br> ¿Desea realmente continuar con el proceso?
                    </p>
                  </div>
                  <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-conser" data-dismiss="modal" >No, deseo conservar mi cuenta</button>
                    <button type="button" class="btn btn-delet">Si, deseo borrar mi cuenta</button>
                  </div>
                </div>
              </div>
            </div>
            <!--fin modal de borrado de cuenta-->


              <!-- Button trigger modal -->




             <!--------------------------fin editar información personal----------------------------------------->

          </div>
          <!--------------------------fin opción editar información personal----------------------------------------->

          <!-- /.tab-pane -->
      </div>
        <!-- /.tab-content -->

    </div><!-- /.card-body -->
  </div>
    <!-- /.card -->

    <!--Fin de perfil y editar perfil-->







{% endblock %}